# ğŸ”„ å¤šçº¿ç¨‹åŸºç¡€

## å¤šçº¿ç¨‹æ¦‚è¿°

å¤šçº¿ç¨‹ï¼ˆMultithreadingï¼‰å…è®¸ç¨‹åºåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œæé«˜ç¨‹åºçš„å¹¶å‘æ€§å’Œå“åº”æ€§ã€‚

### çº¿ç¨‹ä¸è¿›ç¨‹

- **è¿›ç¨‹**ï¼šç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œï¼Œæœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´
- **çº¿ç¨‹**ï¼šè¿›ç¨‹å†…çš„æ‰§è¡Œå•å…ƒï¼Œå…±äº«è¿›ç¨‹çš„åœ°å€ç©ºé—´

## åˆ›å»ºçº¿ç¨‹

### æ–¹å¼1ï¼šç»§æ‰¿ Thread ç±»

```java
public class MyThread extends Thread {
    @Override
    public void run() {
        for (int i = 0; i < 5; i++) {
            System.out.println("çº¿ç¨‹è¿è¡Œ: " + i);
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

// ä½¿ç”¨
MyThread thread = new MyThread();
thread.start();
```

### æ–¹å¼2ï¼šå®ç° Runnable æ¥å£

```java
public class MyRunnable implements Runnable {
    @Override
    public void run() {
        for (int i = 0; i < 5; i++) {
            System.out.println("çº¿ç¨‹è¿è¡Œ: " + i);
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

// ä½¿ç”¨
Thread thread = new Thread(new MyRunnable());
thread.start();
```

### æ–¹å¼3ï¼šLambda è¡¨è¾¾å¼ï¼ˆJava 8+ï¼‰

```java
Thread thread = new Thread(() -> {
    for (int i = 0; i < 5; i++) {
        System.out.println("çº¿ç¨‹è¿è¡Œ: " + i);
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
});
thread.start();
```

## çº¿ç¨‹çŠ¶æ€

### çº¿ç¨‹çŠ¶æ€è½¬æ¢

```
æ–°å»º â†’ å°±ç»ª â†’ è¿è¡Œ â†’ é˜»å¡ â†’ å°±ç»ª â†’ è¿è¡Œ â†’ ç»ˆæ­¢
```

### çº¿ç¨‹çŠ¶æ€æ–¹æ³•

```java
Thread thread = new Thread(() -> {
    // çº¿ç¨‹ä»£ç 
});

// è·å–çŠ¶æ€
Thread.State state = thread.getState();
System.out.println("çº¿ç¨‹çŠ¶æ€: " + state);

// å¯åŠ¨çº¿ç¨‹
thread.start();

// ç­‰å¾…çº¿ç¨‹å®Œæˆ
thread.join();

// ä¸­æ–­çº¿ç¨‹
thread.interrupt();

// æ£€æŸ¥æ˜¯å¦ä¸­æ–­
boolean interrupted = thread.isInterrupted();
```

## çº¿ç¨‹åŒæ­¥

### synchronized å…³é”®å­—

```java
public class Counter {
    private int count = 0;
    
    // åŒæ­¥æ–¹æ³•
    public synchronized void increment() {
        count++;
    }
    
    // åŒæ­¥ä»£ç å—
    public void increment2() {
        synchronized (this) {
            count++;
        }
    }
}
```

### wait å’Œ notify

```java
public class ProducerConsumer {
    private int value;
    private boolean hasValue = false;
    
    public synchronized void produce(int val) {
        while (hasValue) {
            try {
                wait();  // ç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        value = val;
        hasValue = true;
        notify();  // é€šçŸ¥æ¶ˆè´¹è€…
    }
    
    public synchronized int consume() {
        while (!hasValue) {
            try {
                wait();  // ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        hasValue = false;
        notify();  // é€šçŸ¥ç”Ÿäº§è€…
        return value;
    }
}
```

## å®Œæ•´ç¤ºä¾‹

```java
public class ThreadExample {
    public static void main(String[] args) {
        // åˆ›å»ºçº¿ç¨‹
        Thread thread1 = new Thread(() -> {
            for (int i = 0; i < 5; i++) {
                System.out.println("çº¿ç¨‹1: " + i);
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        });
        
        Thread thread2 = new Thread(() -> {
            for (int i = 0; i < 5; i++) {
                System.out.println("çº¿ç¨‹2: " + i);
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        });
        
        // å¯åŠ¨çº¿ç¨‹
        thread1.start();
        thread2.start();
        
        // ç­‰å¾…çº¿ç¨‹å®Œæˆ
        try {
            thread1.join();
            thread2.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        
        System.out.println("æ‰€æœ‰çº¿ç¨‹å®Œæˆ");
    }
}
```

## ä¸‹ä¸€æ­¥

æŒæ¡äº†å¤šçº¿ç¨‹åŸºç¡€åï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ ï¼š

- [å¹¶å‘å·¥å…·ç±»](/java/19-å¹¶å‘å·¥å…·ç±».md) - å­¦ä¹ å¹¶å‘å·¥å…·çš„ä½¿ç”¨
- [JVM åŸºç¡€](/java/20-JVMåŸºç¡€.md) - å­¦ä¹  JVM åŸç†

---

<div style="text-align: center; margin-top: 2rem;">
  <p>ğŸ’¡ <strong>æç¤º</strong>ï¼šå¤šçº¿ç¨‹ç¼–ç¨‹å¯ä»¥æé«˜ç¨‹åºæ€§èƒ½ï¼Œä½†éœ€è¦æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜</p>
</div>
