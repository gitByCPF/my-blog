# ğŸ”— ç»§æ‰¿

## ç»§æ‰¿æ¦‚è¿°

ç»§æ‰¿ï¼ˆInheritanceï¼‰æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»ï¼‰ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼ˆçˆ¶ç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®ç°ä»£ç å¤ç”¨ã€‚

### ç»§æ‰¿çš„ç‰¹ç‚¹

- **ä»£ç å¤ç”¨**ï¼šå­ç±»å¯ä»¥å¤ç”¨çˆ¶ç±»çš„ä»£ç 
- **æ‰©å±•æ€§**ï¼šå­ç±»å¯ä»¥æ·»åŠ æ–°çš„å±æ€§å’Œæ–¹æ³•
- **å¤šæ€åŸºç¡€**ï¼šç»§æ‰¿æ˜¯å®ç°å¤šæ€çš„åŸºç¡€
- **å•ç»§æ‰¿**ï¼šJava åªæ”¯æŒå•ç»§æ‰¿ï¼ˆä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼‰

## ç»§æ‰¿çš„è¯­æ³•

### åŸºæœ¬è¯­æ³•

```java
// çˆ¶ç±»ï¼ˆåŸºç±»ã€è¶…ç±»ï¼‰
class Parent {
    // çˆ¶ç±»çš„æˆå‘˜
}

// å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
class Child extends Parent {
    // å­ç±»çš„æˆå‘˜
}
```

### ç»§æ‰¿ç¤ºä¾‹

```java
// çˆ¶ç±»
public class Animal {
    protected String name;
    protected int age;
    
    public Animal(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    public void eat() {
        System.out.println(name + " æ­£åœ¨åƒä¸œè¥¿");
    }
    
    public void sleep() {
        System.out.println(name + " æ­£åœ¨ç¡è§‰");
    }
    
    public void displayInfo() {
        System.out.println("åç§°: " + name + ", å¹´é¾„: " + age);
    }
}

// å­ç±»
public class Dog extends Animal {
    private String breed;  // å­ç±»ç‰¹æœ‰çš„å±æ€§
    
    public Dog(String name, int age, String breed) {
        super(name, age);  // è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•
        this.breed = breed;
    }
    
    // å­ç±»ç‰¹æœ‰çš„æ–¹æ³•
    public void bark() {
        System.out.println(name + " æ­£åœ¨å«: æ±ªæ±ªæ±ª");
    }
    
    // é‡å†™çˆ¶ç±»æ–¹æ³•
    @Override
    public void displayInfo() {
        super.displayInfo();  // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        System.out.println("å“ç§: " + breed);
    }
}

// ä½¿ç”¨
Dog dog = new Dog("æ—ºè´¢", 3, "é‡‘æ¯›");
dog.eat();         // ç»§æ‰¿è‡ªçˆ¶ç±»
dog.sleep();       // ç»§æ‰¿è‡ªçˆ¶ç±»
dog.bark();        // å­ç±»ç‰¹æœ‰æ–¹æ³•
dog.displayInfo(); // é‡å†™çš„æ–¹æ³•
```

## super å…³é”®å­—

### super çš„ç”¨é€”

1. **è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•**ï¼š`super(å‚æ•°)`
2. **è°ƒç”¨çˆ¶ç±»æ–¹æ³•**ï¼š`super.æ–¹æ³•å()`
3. **è®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡**ï¼š`super.å˜é‡å`

### super ç¤ºä¾‹

```java
public class Parent {
    protected String name;
    
    public Parent(String name) {
        this.name = name;
    }
    
    public void display() {
        System.out.println("çˆ¶ç±»æ–¹æ³•: " + name);
    }
}

public class Child extends Parent {
    private String childName;
    
    public Child(String name, String childName) {
        super(name);  // è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•
        this.childName = childName;
    }
    
    @Override
    public void display() {
        super.display();  // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        System.out.println("å­ç±»æ–¹æ³•: " + childName);
    }
    
    public void showParentName() {
        System.out.println(super.name);  // è®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡
    }
}
```

## æ–¹æ³•é‡å†™ï¼ˆOverrideï¼‰

### é‡å†™è§„åˆ™

1. æ–¹æ³•åã€å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ
2. è¿”å›ç±»å‹å¿…é¡»ç›¸åŒæˆ–æ˜¯çˆ¶ç±»è¿”å›ç±»å‹çš„å­ç±»å‹
3. è®¿é—®æƒé™ä¸èƒ½æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼
4. ä¸èƒ½æŠ›å‡ºæ¯”çˆ¶ç±»æ›´å¤šçš„å¼‚å¸¸ï¼ˆæˆ–çˆ¶ç±»å¼‚å¸¸çš„å­ç±»ï¼‰

### é‡å†™ç¤ºä¾‹

```java
public class Shape {
    public double calculateArea() {
        return 0;
    }
    
    public void display() {
        System.out.println("è¿™æ˜¯ä¸€ä¸ªå½¢çŠ¶");
    }
}

public class Circle extends Shape {
    private double radius;
    
    public Circle(double radius) {
        this.radius = radius;
    }
    
    // é‡å†™çˆ¶ç±»æ–¹æ³•
    @Override
    public double calculateArea() {
        return Math.PI * radius * radius;
    }
    
    @Override
    public void display() {
        System.out.println("è¿™æ˜¯ä¸€ä¸ªåœ†å½¢ï¼ŒåŠå¾„: " + radius);
    }
}

public class Rectangle extends Shape {
    private double width;
    private double height;
    
    public Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }
    
    @Override
    public double calculateArea() {
        return width * height;
    }
    
    @Override
    public void display() {
        System.out.println("è¿™æ˜¯ä¸€ä¸ªçŸ©å½¢ï¼Œå®½: " + width + ", é«˜: " + height);
    }
}
```

### @Override æ³¨è§£

```java
public class Child extends Parent {
    @Override  // æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯é‡å†™æ–¹æ³•
    public void method() {
        // æ–¹æ³•ä½“
    }
}
```

## final å…³é”®å­—

### final ä¿®é¥°ç±»

```java
// final ç±»ä¸èƒ½è¢«ç»§æ‰¿
public final class FinalClass {
    // ...
}

// âŒ é”™è¯¯ï¼šä¸èƒ½ç»§æ‰¿ final ç±»
// public class Child extends FinalClass { }
```

### final ä¿®é¥°æ–¹æ³•

```java
public class Parent {
    // final æ–¹æ³•ä¸èƒ½è¢«é‡å†™
    public final void finalMethod() {
        System.out.println("è¿™æ˜¯æœ€ç»ˆæ–¹æ³•");
    }
}

public class Child extends Parent {
    // âŒ é”™è¯¯ï¼šä¸èƒ½é‡å†™ final æ–¹æ³•
    // @Override
    // public void finalMethod() { }
}
```

### final ä¿®é¥°å˜é‡

```java
public class Example {
    // final å˜é‡å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”ä¸èƒ½ä¿®æ”¹
    private final int CONSTANT = 100;
    
    // final å®ä¾‹å˜é‡
    private final String name;
    
    public Example(String name) {
        this.name = name;  // å¿…é¡»åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–
    }
}
```

## è®¿é—®ä¿®é¥°ç¬¦ä¸ç»§æ‰¿

### è®¿é—®ä¿®é¥°ç¬¦çš„ç»§æ‰¿è§„åˆ™

| ä¿®é¥°ç¬¦ | ç±»å†… | åŒ…å†… | å­ç±» | åŒ…å¤– |
|--------|------|------|------|------|
| `private` | âœ… | âŒ | âŒ | âŒ |
| `default` | âœ… | âœ… | âŒ | âŒ |
| `protected` | âœ… | âœ… | âœ… | âŒ |
| `public` | âœ… | âœ… | âœ… | âœ… |

```java
public class Parent {
    private int privateVar;        // å­ç±»ä¸èƒ½è®¿é—®
    int defaultVar;                // åŒåŒ…å­ç±»å¯ä»¥è®¿é—®
    protected int protectedVar;    // å­ç±»å¯ä»¥è®¿é—®
    public int publicVar;          // å­ç±»å¯ä»¥è®¿é—®
}

public class Child extends Parent {
    public void method() {
        // System.out.println(privateVar);   // âŒ é”™è¯¯
        // System.out.println(defaultVar);   // âŒ é”™è¯¯ï¼ˆå¦‚æœä¸åŒåŒ…ï¼‰
        System.out.println(protectedVar);   // âœ… å¯ä»¥
        System.out.println(publicVar);      // âœ… å¯ä»¥
    }
}
```

## æ„é€ æ–¹æ³•ä¸ç»§æ‰¿

### æ„é€ æ–¹æ³•è°ƒç”¨é¡ºåº

```java
public class Grandparent {
    public Grandparent() {
        System.out.println("Grandparent æ„é€ æ–¹æ³•");
    }
}

public class Parent extends Grandparent {
    public Parent() {
        System.out.println("Parent æ„é€ æ–¹æ³•");
    }
}

public class Child extends Parent {
    public Child() {
        System.out.println("Child æ„é€ æ–¹æ³•");
    }
}

// åˆ›å»ºå¯¹è±¡
Child child = new Child();
// è¾“å‡ºï¼š
// Grandparent æ„é€ æ–¹æ³•
// Parent æ„é€ æ–¹æ³•
// Child æ„é€ æ–¹æ³•
```

### æ˜¾å¼è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•

```java
public class Parent {
    private String name;
    
    public Parent(String name) {
        this.name = name;
        System.out.println("Parent æ„é€ æ–¹æ³•: " + name);
    }
}

public class Child extends Parent {
    private int age;
    
    public Child(String name, int age) {
        super(name);  // å¿…é¡»æ˜¾å¼è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•
        this.age = age;
        System.out.println("Child æ„é€ æ–¹æ³•: " + age);
    }
}
```

## ç»§æ‰¿çš„å±‚æ¬¡ç»“æ„

### å¤šçº§ç»§æ‰¿

```java
// åŠ¨ç‰©ç±»
public class Animal {
    protected String name;
    
    public Animal(String name) {
        this.name = name;
    }
    
    public void eat() {
        System.out.println(name + " æ­£åœ¨åƒä¸œè¥¿");
    }
}

// å“ºä¹³åŠ¨ç‰©ç±»
public class Mammal extends Animal {
    public Mammal(String name) {
        super(name);
    }
    
    public void breathe() {
        System.out.println(name + " æ­£åœ¨å‘¼å¸");
    }
}

// ç‹—ç±»
public class Dog extends Mammal {
    public Dog(String name) {
        super(name);
    }
    
    public void bark() {
        System.out.println(name + " æ­£åœ¨å«");
    }
}

// ä½¿ç”¨
Dog dog = new Dog("æ—ºè´¢");
dog.eat();     // ç»§æ‰¿è‡ª Animal
dog.breathe(); // ç»§æ‰¿è‡ª Mammal
dog.bark();    // Dog è‡ªå·±çš„æ–¹æ³•
```

## Object ç±»

### Object ç±»çš„æ–¹æ³•

æ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ª `Object` ç±»ï¼Œå¯ä»¥é‡å†™ä»¥ä¸‹æ–¹æ³•ï¼š

```java
public class MyClass {
    // é‡å†™ toString æ–¹æ³•
    @Override
    public String toString() {
        return "MyClass{...}";
    }
    
    // é‡å†™ equals æ–¹æ³•
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        // æ¯”è¾ƒé€»è¾‘
        return true;
    }
    
    // é‡å†™ hashCode æ–¹æ³•
    @Override
    public int hashCode() {
        // è®¡ç®—å“ˆå¸Œç 
        return Objects.hash(...);
    }
}
```

### å¸¸ç”¨ Object æ–¹æ³•

```java
Object obj = new Object();

// toStringï¼šè¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤º
String str = obj.toString();

// equalsï¼šæ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰
boolean equal = obj.equals(anotherObj);

// hashCodeï¼šè¿”å›å¯¹è±¡çš„å“ˆå¸Œç 
int hash = obj.hashCode();

// getClassï¼šè·å–å¯¹è±¡çš„ç±»
Class<?> clazz = obj.getClass();
```

## ç»§æ‰¿çš„ä¼˜ç¼ºç‚¹

### ä¼˜ç‚¹

1. **ä»£ç å¤ç”¨**ï¼šå­ç±»å¯ä»¥å¤ç”¨çˆ¶ç±»çš„ä»£ç 
2. **æ‰©å±•æ€§**ï¼šå­ç±»å¯ä»¥æ·»åŠ æ–°åŠŸèƒ½
3. **å¤šæ€æ”¯æŒ**ï¼šä¸ºå®ç°å¤šæ€æä¾›åŸºç¡€
4. **ç»´æŠ¤æ€§**ï¼šä¿®æ”¹çˆ¶ç±»å½±å“æ‰€æœ‰å­ç±»

### ç¼ºç‚¹

1. **è€¦åˆåº¦é«˜**ï¼šå­ç±»ä¸çˆ¶ç±»ç´§å¯†è€¦åˆ
2. **å•ç»§æ‰¿é™åˆ¶**ï¼šJava åªæ”¯æŒå•ç»§æ‰¿
3. **è®¾è®¡å¤æ‚**ï¼šç»§æ‰¿å±‚æ¬¡è¿‡æ·±ä¼šéš¾ä»¥ç†è§£

## å®Œæ•´ç¤ºä¾‹

```java
// çˆ¶ç±»ï¼šå‘˜å·¥
public class Employee {
    protected String name;
    protected int id;
    protected double salary;
    
    public Employee(String name, int id, double salary) {
        this.name = name;
        this.id = id;
        this.salary = salary;
    }
    
    public void work() {
        System.out.println(name + " æ­£åœ¨å·¥ä½œ");
    }
    
    public void displayInfo() {
        System.out.println("å‘˜å·¥å§“å: " + name);
        System.out.println("å‘˜å·¥ID: " + id);
        System.out.println("å·¥èµ„: " + salary);
    }
    
    public double calculateSalary() {
        return salary;
    }
}

// å­ç±»ï¼šç»ç†
public class Manager extends Employee {
    private double bonus;
    
    public Manager(String name, int id, double salary, double bonus) {
        super(name, id, salary);
        this.bonus = bonus;
    }
    
    @Override
    public void work() {
        System.out.println(name + " æ­£åœ¨ç®¡ç†å·¥ä½œ");
    }
    
    @Override
    public double calculateSalary() {
        return salary + bonus;  // å·¥èµ„ + å¥–é‡‘
    }
    
    @Override
    public void displayInfo() {
        super.displayInfo();
        System.out.println("å¥–é‡‘: " + bonus);
        System.out.println("æ€»å·¥èµ„: " + calculateSalary());
    }
    
    // ç»ç†ç‰¹æœ‰çš„æ–¹æ³•
    public void manageTeam() {
        System.out.println(name + " æ­£åœ¨ç®¡ç†å›¢é˜Ÿ");
    }
}

// å­ç±»ï¼šç¨‹åºå‘˜
public class Programmer extends Employee {
    private String programmingLanguage;
    
    public Programmer(String name, int id, double salary, String language) {
        super(name, id, salary);
        this.programmingLanguage = language;
    }
    
    @Override
    public void work() {
        System.out.println(name + " æ­£åœ¨ç”¨ " + programmingLanguage + " ç¼–ç¨‹");
    }
    
    @Override
    public void displayInfo() {
        super.displayInfo();
        System.out.println("ç¼–ç¨‹è¯­è¨€: " + programmingLanguage);
    }
    
    // ç¨‹åºå‘˜ç‰¹æœ‰çš„æ–¹æ³•
    public void code() {
        System.out.println(name + " æ­£åœ¨ç¼–å†™ä»£ç ");
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class InheritanceExample {
    public static void main(String[] args) {
        Employee emp = new Employee("å¼ ä¸‰", 1, 5000);
        Manager mgr = new Manager("æå››", 2, 10000, 5000);
        Programmer prog = new Programmer("ç‹äº”", 3, 8000, "Java");
        
        emp.work();
        emp.displayInfo();
        
        System.out.println("---");
        
        mgr.work();
        mgr.displayInfo();
        mgr.manageTeam();
        
        System.out.println("---");
        
        prog.work();
        prog.displayInfo();
        prog.code();
    }
}
```

## æœ€ä½³å®è·µ

### 1. åˆç†ä½¿ç”¨ç»§æ‰¿

```java
// âœ… å¥½çš„ç»§æ‰¿å…³ç³»ï¼šis-a å…³ç³»
class Dog extends Animal { }  // ç‹—æ˜¯åŠ¨ç‰©

// âŒ ä¸å¥½çš„ç»§æ‰¿ï¼šä¸æ˜¯ is-a å…³ç³»
// class Stack extends ArrayList { }  // æ ˆä¸æ˜¯ ArrayList
// åº”è¯¥ä½¿ç”¨ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿
```

### 2. ä½¿ç”¨ protected è€Œä¸æ˜¯ public

```java
// âœ… å¥½çš„åšæ³•ï¼šä½¿ç”¨ protected
public class Parent {
    protected String name;  // å­ç±»å¯ä»¥è®¿é—®
}

// âŒ ä¸å¥½çš„åšæ³•ï¼šä½¿ç”¨ public
public class Parent {
    public String name;  // ç ´åäº†å°è£…
}
```

### 3. é‡å†™ equals å’Œ hashCode

```java
@Override
public boolean equals(Object obj) {
    if (this == obj) return true;
    if (obj == null || getClass() != obj.getClass()) return false;
    MyClass myClass = (MyClass) obj;
    return Objects.equals(field, myClass.field);
}

@Override
public int hashCode() {
    return Objects.hash(field);
}
```

## ä¸‹ä¸€æ­¥

æŒæ¡äº†ç»§æ‰¿åï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ ï¼š

- [å¤šæ€](/java/10-å¤šæ€.md) - ç†è§£å¤šæ€çš„å®ç°å’Œåº”ç”¨
- [å†…éƒ¨ç±»ä¸åŒ¿åç±»](/java/11-å†…éƒ¨ç±»ä¸åŒ¿åç±».md) - å­¦ä¹ ç‰¹æ®Šçš„ç±»å®šä¹‰æ–¹å¼

---

<div style="text-align: center; margin-top: 2rem;">
  <p>ğŸ’¡ <strong>æç¤º</strong>ï¼šç»§æ‰¿æ˜¯ä»£ç å¤ç”¨å’Œæ‰©å±•çš„é‡è¦æœºåˆ¶ï¼Œä½†è¦åˆç†ä½¿ç”¨ï¼Œé¿å…è¿‡æ·±çš„ç»§æ‰¿å±‚æ¬¡</p>
</div>
