# ğŸ”¢ æšä¸¾ä¸æ³¨è§£

## æšä¸¾ï¼ˆEnumï¼‰

### æšä¸¾æ¦‚è¿°

æšä¸¾ï¼ˆEnumerationï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œç”¨äºå®šä¹‰ä¸€ç»„å¸¸é‡ã€‚Java 5 å¼•å…¥äº†æšä¸¾ç±»å‹ã€‚

### åŸºæœ¬æšä¸¾

```java
// å®šä¹‰æšä¸¾
public enum Day {
    MONDAY,
    TUESDAY,
    WEDNESDAY,
    THURSDAY,
    FRIDAY,
    SATURDAY,
    SUNDAY
}

// ä½¿ç”¨æšä¸¾
Day today = Day.MONDAY;
System.out.println(today);  // MONDAY
```

### æšä¸¾ä¸ switch

```java
Day day = Day.MONDAY;

switch (day) {
    case MONDAY:
        System.out.println("æ˜ŸæœŸä¸€");
        break;
    case TUESDAY:
        System.out.println("æ˜ŸæœŸäºŒ");
        break;
    // ...
    default:
        System.out.println("å…¶ä»–");
}
```

### æšä¸¾æ–¹æ³•

```java
// æšä¸¾å¯ä»¥å®šä¹‰æ–¹æ³•
public enum Day {
    MONDAY("æ˜ŸæœŸä¸€"),
    TUESDAY("æ˜ŸæœŸäºŒ"),
    WEDNESDAY("æ˜ŸæœŸä¸‰"),
    THURSDAY("æ˜ŸæœŸå››"),
    FRIDAY("æ˜ŸæœŸäº”"),
    SATURDAY("æ˜ŸæœŸå…­"),
    SUNDAY("æ˜ŸæœŸæ—¥");
    
    private final String chineseName;
    
    Day(String chineseName) {
        this.chineseName = chineseName;
    }
    
    public String getChineseName() {
        return chineseName;
    }
}

// ä½¿ç”¨
Day day = Day.MONDAY;
System.out.println(day.getChineseName());  // æ˜ŸæœŸä¸€
```

### æšä¸¾æ–¹æ³•

```java
// æšä¸¾å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•
public enum Operation {
    ADD {
        @Override
        public int calculate(int a, int b) {
            return a + b;
        }
    },
    SUBTRACT {
        @Override
        public int calculate(int a, int b) {
            return a - b;
        }
    },
    MULTIPLY {
        @Override
        public int calculate(int a, int b) {
            return a * b;
        }
    },
    DIVIDE {
        @Override
        public int calculate(int a, int b) {
            return a / b;
        }
    };
    
    public abstract int calculate(int a, int b);
}

// ä½¿ç”¨
int result = Operation.ADD.calculate(5, 3);  // 8
```

### æšä¸¾å¸¸ç”¨æ–¹æ³•

```java
Day day = Day.MONDAY;

// è·å–åç§°
String name = day.name();  // "MONDAY"

// è·å–åºå·
int ordinal = day.ordinal();  // 0

// æ¯”è¾ƒ
boolean equals = day.equals(Day.MONDAY);  // true
int compare = day.compareTo(Day.TUESDAY);  // -1

// è·å–æ‰€æœ‰æšä¸¾å€¼
Day[] days = Day.values();
for (Day d : days) {
    System.out.println(d);
}

// æ ¹æ®åç§°è·å–æšä¸¾
Day monday = Day.valueOf("MONDAY");
```

## æ³¨è§£ï¼ˆAnnotationï¼‰

### æ³¨è§£æ¦‚è¿°

æ³¨è§£ï¼ˆAnnotationï¼‰æ˜¯ Java 5 å¼•å…¥çš„ç‰¹æ€§ï¼Œç”¨äºä¸ºä»£ç æ·»åŠ å…ƒæ•°æ®ã€‚

### å†…ç½®æ³¨è§£

#### @Override

```java
public class Parent {
    public void method() {
        System.out.println("çˆ¶ç±»æ–¹æ³•");
    }
}

public class Child extends Parent {
    @Override  // æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯é‡å†™æ–¹æ³•
    public void method() {
        System.out.println("å­ç±»æ–¹æ³•");
    }
}
```

#### @Deprecated

```java
@Deprecated  // æ ‡è®°ä¸ºå·²åºŸå¼ƒ
public class OldClass {
    @Deprecated  // æ ‡è®°æ–¹æ³•ä¸ºå·²åºŸå¼ƒ
    public void oldMethod() {
        // æ—§æ–¹æ³•
    }
}

// ä½¿ç”¨æ—¶ä¼šè­¦å‘Š
OldClass obj = new OldClass();
obj.oldMethod();  // ç¼–è¯‘è­¦å‘Š
```

#### @SuppressWarnings

```java
@SuppressWarnings("unchecked")  // æŠ‘åˆ¶è­¦å‘Š
public void method() {
    List list = new ArrayList();  // ä¸ä¼šè­¦å‘Š
    list.add("item");
}
```

### è‡ªå®šä¹‰æ³¨è§£

```java
// å®šä¹‰æ³¨è§£
@Target(ElementType.METHOD)  // åªèƒ½ç”¨äºæ–¹æ³•
@Retention(RetentionPolicy.RUNTIME)  // è¿è¡Œæ—¶ä¿ç•™
public @interface MyAnnotation {
    String value() default "default";
    int count() default 0;
}

// ä½¿ç”¨æ³¨è§£
public class MyClass {
    @MyAnnotation(value = "test", count = 5)
    public void method() {
        // æ–¹æ³•ä½“
    }
}
```

### æ³¨è§£å…ƒç´ 

```java
// å®šä¹‰æ³¨è§£
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Author {
    String name();
    String email();
    String date();
}

// ä½¿ç”¨æ³¨è§£
public class MyClass {
    @Author(name = "å¼ ä¸‰", email = "zhangsan@example.com", date = "2024-01-01")
    public void method() {
        // æ–¹æ³•ä½“
    }
}
```

### å…ƒæ³¨è§£

#### @Target

```java
@Target(ElementType.METHOD)  // åªèƒ½ç”¨äºæ–¹æ³•
public @interface MethodAnnotation { }

@Target({ElementType.METHOD, ElementType.FIELD})  // å¯ç”¨äºæ–¹æ³•å’Œå­—æ®µ
public @interface MethodOrFieldAnnotation { }
```

#### @Retention

```java
@Retention(RetentionPolicy.SOURCE)   // ç¼–è¯‘æ—¶ä¸¢å¼ƒ
@Retention(RetentionPolicy.CLASS)   // ç±»åŠ è½½æ—¶ä¸¢å¼ƒ
@Retention(RetentionPolicy.RUNTIME)  // è¿è¡Œæ—¶ä¿ç•™
public @interface MyAnnotation { }
```

#### @Documented

```java
@Documented  // åŒ…å«åœ¨ JavaDoc ä¸­
public @interface MyAnnotation { }
```

#### @Inherited

```java
@Inherited  // å¯ä»¥ç»§æ‰¿
public @interface MyAnnotation { }
```

### æ³¨è§£å¤„ç†å™¨

```java
// ä½¿ç”¨åå°„å¤„ç†æ³¨è§£
public class AnnotationProcessor {
    public static void processAnnotations(Class<?> clazz) {
        // è·å–ç±»ä¸Šçš„æ³¨è§£
        if (clazz.isAnnotationPresent(Author.class)) {
            Author author = clazz.getAnnotation(Author.class);
            System.out.println("ä½œè€…: " + author.name());
            System.out.println("é‚®ç®±: " + author.email());
        }
        
        // è·å–æ–¹æ³•ä¸Šçš„æ³¨è§£
        Method[] methods = clazz.getDeclaredMethods();
        for (Method method : methods) {
            if (method.isAnnotationPresent(Author.class)) {
                Author author = method.getAnnotation(Author.class);
                System.out.println("æ–¹æ³•: " + method.getName());
                System.out.println("ä½œè€…: " + author.name());
            }
        }
    }
}
```

## å®Œæ•´ç¤ºä¾‹

```java
// æšä¸¾ç¤ºä¾‹
public enum Status {
    PENDING("å¾…å¤„ç†"),
    PROCESSING("å¤„ç†ä¸­"),
    COMPLETED("å·²å®Œæˆ"),
    FAILED("å¤±è´¥");
    
    private final String description;
    
    Status(String description) {
        this.description = description;
    }
    
    public String getDescription() {
        return description;
    }
}

// æ³¨è§£ç¤ºä¾‹
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Log {
    String level() default "INFO";
    String message() default "";
}

// ä½¿ç”¨
public class Task {
    private Status status = Status.PENDING;
    
    @Log(level = "INFO", message = "å¼€å§‹å¤„ç†ä»»åŠ¡")
    public void start() {
        status = Status.PROCESSING;
    }
    
    @Log(level = "INFO", message = "å®Œæˆä»»åŠ¡")
    public void complete() {
        status = Status.COMPLETED;
    }
    
    public Status getStatus() {
        return status;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class EnumAnnotationExample {
    public static void main(String[] args) {
        // æšä¸¾ä½¿ç”¨
        Status status = Status.PENDING;
        System.out.println(status.getDescription());  // å¾…å¤„ç†
        
        // éå†æšä¸¾
        for (Status s : Status.values()) {
            System.out.println(s + ": " + s.getDescription());
        }
        
        // æ³¨è§£å¤„ç†
        Task task = new Task();
        processAnnotations(task.getClass());
    }
    
    private static void processAnnotations(Class<?> clazz) {
        Method[] methods = clazz.getDeclaredMethods();
        for (Method method : methods) {
            if (method.isAnnotationPresent(Log.class)) {
                Log log = method.getAnnotation(Log.class);
                System.out.println("æ–¹æ³•: " + method.getName());
                System.out.println("æ—¥å¿—çº§åˆ«: " + log.level());
                System.out.println("æ—¥å¿—æ¶ˆæ¯: " + log.message());
            }
        }
    }
}
```

## æœ€ä½³å®è·µ

### 1. æšä¸¾ç”¨äºå›ºå®šå¸¸é‡é›†

```java
// âœ… å¥½çš„åšæ³•ï¼šä½¿ç”¨æšä¸¾å®šä¹‰å›ºå®šå¸¸é‡é›†
public enum Color {
    RED, GREEN, BLUE
}

// âŒ ä¸å¥½çš„åšæ³•ï¼šä½¿ç”¨å¸¸é‡ç±»
public class Color {
    public static final String RED = "red";
    public static final String GREEN = "green";
    public static final String BLUE = "blue";
}
```

### 2. æ³¨è§£ç”¨äºå…ƒæ•°æ®

```java
// âœ… å¥½çš„åšæ³•ï¼šä½¿ç”¨æ³¨è§£æ·»åŠ å…ƒæ•°æ®
@Deprecated
public void oldMethod() { }

// âœ… å¥½çš„åšæ³•ï¼šä½¿ç”¨æ³¨è§£æ ‡è®°åŠŸèƒ½
@Transactional
public void saveData() { }
```

## ä¸‹ä¸€æ­¥

æŒæ¡äº†æšä¸¾ä¸æ³¨è§£åï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ ï¼š

- [å¤šçº¿ç¨‹åŸºç¡€](/java/18-å¤šçº¿ç¨‹åŸºç¡€.md) - å­¦ä¹ å¤šçº¿ç¨‹ç¼–ç¨‹
- [Java 8+ æ–°ç‰¹æ€§](/java/21-Java8+æ–°ç‰¹æ€§.md) - å­¦ä¹  Java æ–°ç‰¹æ€§

---

<div style="text-align: center; margin-top: 2rem;">
  <p>ğŸ’¡ <strong>æç¤º</strong>ï¼šæšä¸¾å’Œæ³¨è§£æ˜¯ Java çš„é‡è¦ç‰¹æ€§ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</p>
</div>
