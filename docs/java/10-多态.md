# ğŸ­ å¤šæ€

## å¤šæ€æ¦‚è¿°

å¤šæ€ï¼ˆPolymorphismï¼‰æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå…è®¸åŒä¸€ä¸ªæ¥å£ä½¿ç”¨ä¸åŒçš„å®ç°ï¼Œæé«˜äº†ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

### å¤šæ€çš„ç±»å‹

1. **ç¼–è¯‘æ—¶å¤šæ€**ï¼šæ–¹æ³•é‡è½½ï¼ˆOverloadï¼‰
2. **è¿è¡Œæ—¶å¤šæ€**ï¼šæ–¹æ³•é‡å†™ï¼ˆOverrideï¼‰+ å‘ä¸Šè½¬å‹

### å¤šæ€çš„ç‰¹ç‚¹

- **åŒä¸€æ¥å£ï¼Œä¸åŒå®ç°**ï¼šåŒä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œåœ¨ä¸åŒå¯¹è±¡ä¸Šæœ‰ä¸åŒè¡Œä¸º
- **æé«˜å¯æ‰©å±•æ€§**ï¼šæ–°å¢å­ç±»ä¸å½±å“ç°æœ‰ä»£ç 
- **æé«˜ä»£ç å¤ç”¨**ï¼šé€šè¿‡çˆ¶ç±»å¼•ç”¨ç»Ÿä¸€å¤„ç†å­ç±»å¯¹è±¡

## æ–¹æ³•é‡è½½ï¼ˆç¼–è¯‘æ—¶å¤šæ€ï¼‰

### é‡è½½è§„åˆ™

- æ–¹æ³•åç›¸åŒ
- å‚æ•°åˆ—è¡¨ä¸åŒï¼ˆç±»å‹ã€æ•°é‡ã€é¡ºåºï¼‰
- è¿”å›ç±»å‹å¯ä»¥ä¸åŒï¼ˆä½†ä»…è¿”å›ç±»å‹ä¸åŒä¸èƒ½æ„æˆé‡è½½ï¼‰

### é‡è½½ç¤ºä¾‹

```java
public class Calculator {
    // æ•´æ•°åŠ æ³•
    public int add(int a, int b) {
        return a + b;
    }
    
    // æµ®ç‚¹æ•°åŠ æ³•ï¼ˆé‡è½½ï¼‰
    public double add(double a, double b) {
        return a + b;
    }
    
    // ä¸‰ä¸ªæ•´æ•°ç›¸åŠ ï¼ˆé‡è½½ï¼‰
    public int add(int a, int b, int c) {
        return a + b + c;
    }
    
    // å­—ç¬¦ä¸²è¿æ¥ï¼ˆé‡è½½ï¼‰
    public String add(String a, String b) {
        return a + b;
    }
}

// ä½¿ç”¨
Calculator calc = new Calculator();
calc.add(1, 2);           // è°ƒç”¨ int add(int, int)
calc.add(1.0, 2.0);       // è°ƒç”¨ double add(double, double)
calc.add(1, 2, 3);        // è°ƒç”¨ int add(int, int, int)
calc.add("Hello", "World"); // è°ƒç”¨ String add(String, String)
```

## æ–¹æ³•é‡å†™ï¼ˆè¿è¡Œæ—¶å¤šæ€ï¼‰

### è¿è¡Œæ—¶å¤šæ€ç¤ºä¾‹

```java
// çˆ¶ç±»
public class Animal {
    public void makeSound() {
        System.out.println("åŠ¨ç‰©å‘å‡ºå£°éŸ³");
    }
    
    public void move() {
        System.out.println("åŠ¨ç‰©åœ¨ç§»åŠ¨");
    }
}

// å­ç±»1
public class Dog extends Animal {
    @Override
    public void makeSound() {
        System.out.println("ç‹—å«: æ±ªæ±ªæ±ª");
    }
    
    @Override
    public void move() {
        System.out.println("ç‹—åœ¨è·‘");
    }
}

// å­ç±»2
public class Cat extends Animal {
    @Override
    public void makeSound() {
        System.out.println("çŒ«å«: å–µå–µå–µ");
    }
    
    @Override
    public void move() {
        System.out.println("çŒ«åœ¨èµ°");
    }
}

// ä½¿ç”¨
Animal animal1 = new Dog();  // å‘ä¸Šè½¬å‹
Animal animal2 = new Cat();  // å‘ä¸Šè½¬å‹

animal1.makeSound();  // è¾“å‡º: ç‹—å«: æ±ªæ±ªæ±ªï¼ˆè¿è¡Œæ—¶å¤šæ€ï¼‰
animal1.move();       // è¾“å‡º: ç‹—åœ¨è·‘

animal2.makeSound();  // è¾“å‡º: çŒ«å«: å–µå–µå–µï¼ˆè¿è¡Œæ—¶å¤šæ€ï¼‰
animal2.move();       // è¾“å‡º: çŒ«åœ¨èµ°
```

## å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹

### å‘ä¸Šè½¬å‹ï¼ˆUpcastingï¼‰

```java
// å‘ä¸Šè½¬å‹ï¼šå­ç±»å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»å¼•ç”¨
Animal animal = new Dog();  // Dog å‘ä¸Šè½¬å‹ä¸º Animal

// å¯ä»¥è°ƒç”¨çˆ¶ç±»ä¸­å®šä¹‰çš„æ–¹æ³•
animal.makeSound();  // è°ƒç”¨ Dog é‡å†™çš„æ–¹æ³•
animal.move();       // è°ƒç”¨ Dog é‡å†™çš„æ–¹æ³•

// ä¸èƒ½è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•
// animal.bark();  // âŒ ç¼–è¯‘é”™è¯¯
```

### å‘ä¸‹è½¬å‹ï¼ˆDowncastingï¼‰

```java
// å‘ä¸‹è½¬å‹ï¼šçˆ¶ç±»å¼•ç”¨è½¬æ¢ä¸ºå­ç±»å¼•ç”¨
Animal animal = new Dog();
Dog dog = (Dog) animal;  // å‘ä¸‹è½¬å‹

// ç°åœ¨å¯ä»¥è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•
dog.bark();  // âœ… å¯ä»¥è°ƒç”¨
```

### instanceof æ£€æŸ¥

```java
Animal animal = new Dog();

// ä½¿ç”¨ instanceof æ£€æŸ¥ç±»å‹
if (animal instanceof Dog) {
    Dog dog = (Dog) animal;  // å®‰å…¨çš„å‘ä¸‹è½¬å‹
    dog.bark();
}

// æ›´å®‰å…¨çš„å†™æ³•
if (animal instanceof Dog dog) {  // Java 14+ æ¨¡å¼åŒ¹é…
    dog.bark();  // è‡ªåŠ¨è½¬æ¢
}
```

## å¤šæ€çš„åº”ç”¨

### 1. ç»Ÿä¸€æ¥å£å¤„ç†

```java
// çˆ¶ç±»
public class Shape {
    public double calculateArea() {
        return 0;
    }
}

// å­ç±»
public class Circle extends Shape {
    private double radius;
    
    public Circle(double radius) {
        this.radius = radius;
    }
    
    @Override
    public double calculateArea() {
        return Math.PI * radius * radius;
    }
}

public class Rectangle extends Shape {
    private double width;
    private double height;
    
    public Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }
    
    @Override
    public double calculateArea() {
        return width * height;
    }
}

// ä½¿ç”¨å¤šæ€ç»Ÿä¸€å¤„ç†
Shape[] shapes = {
    new Circle(5),
    new Rectangle(4, 6),
    new Circle(3)
};

// ç»Ÿä¸€è°ƒç”¨ï¼Œä¸åŒå¯¹è±¡æ‰§è¡Œä¸åŒå®ç°
for (Shape shape : shapes) {
    System.out.println("é¢ç§¯: " + shape.calculateArea());
}
```

### 2. æ–¹æ³•å‚æ•°å¤šæ€

```java
public class AnimalService {
    // æ–¹æ³•å‚æ•°ä½¿ç”¨çˆ¶ç±»ç±»å‹ï¼Œå¯ä»¥æ¥æ”¶ä»»ä½•å­ç±»å¯¹è±¡
    public void feed(Animal animal) {
        animal.eat();
    }
    
    public void play(Animal animal) {
        animal.move();
    }
}

// ä½¿ç”¨
AnimalService service = new AnimalService();
service.feed(new Dog());   // å¯ä»¥ä¼ å…¥ Dog å¯¹è±¡
service.feed(new Cat());   // å¯ä»¥ä¼ å…¥ Cat å¯¹è±¡
service.play(new Dog());   // å¯ä»¥ä¼ å…¥ Dog å¯¹è±¡
```

### 3. æ–¹æ³•è¿”å›å¤šæ€

```java
public class AnimalFactory {
    // è¿”å›ç±»å‹æ˜¯çˆ¶ç±»ï¼Œå®é™…è¿”å›å­ç±»å¯¹è±¡
    public Animal createAnimal(String type) {
        if ("dog".equals(type)) {
            return new Dog();
        } else if ("cat".equals(type)) {
            return new Cat();
        }
        return null;
    }
}

// ä½¿ç”¨
AnimalFactory factory = new AnimalFactory();
Animal animal = factory.createAnimal("dog");  // è¿”å› Dog å¯¹è±¡
animal.makeSound();  // è°ƒç”¨ Dog çš„æ–¹æ³•
```

## æŠ½è±¡ç±»ä¸å¤šæ€

### æŠ½è±¡ç±»

```java
// æŠ½è±¡ç±»
public abstract class Animal {
    protected String name;
    
    public Animal(String name) {
        this.name = name;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šå¿…é¡»ç”±å­ç±»å®ç°
    public abstract void makeSound();
    
    // æ™®é€šæ–¹æ³•ï¼šå¯ä»¥æœ‰å®ç°
    public void eat() {
        System.out.println(name + " æ­£åœ¨åƒä¸œè¥¿");
    }
}

// å­ç±»å®ç°æŠ½è±¡æ–¹æ³•
public class Dog extends Animal {
    public Dog(String name) {
        super(name);
    }
    
    @Override
    public void makeSound() {
        System.out.println(name + " å«: æ±ªæ±ªæ±ª");
    }
}

public class Cat extends Animal {
    public Cat(String name) {
        super(name);
    }
    
    @Override
    public void makeSound() {
        System.out.println(name + " å«: å–µå–µå–µ");
    }
}
```

### æ¥å£ä¸å¤šæ€

```java
// æ¥å£
public interface Flyable {
    void fly();
}

public interface Swimmable {
    void swim();
}

// å®ç°æ¥å£
public class Duck implements Flyable, Swimmable {
    @Override
    public void fly() {
        System.out.println("é¸­å­é£");
    }
    
    @Override
    public void swim() {
        System.out.println("é¸­å­æ¸¸æ³³");
    }
}

// ä½¿ç”¨æ¥å£å®ç°å¤šæ€
Flyable flyable = new Duck();
flyable.fly();

Swimmable swimmable = new Duck();
swimmable.swim();
```

## å¤šæ€çš„å®Œæ•´ç¤ºä¾‹

```java
// å‘˜å·¥ç®¡ç†ç³»ç»Ÿ
public abstract class Employee {
    protected String name;
    protected int id;
    protected double baseSalary;
    
    public Employee(String name, int id, double baseSalary) {
        this.name = name;
        this.id = id;
        this.baseSalary = baseSalary;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šè®¡ç®—å·¥èµ„ï¼ˆä¸åŒå‘˜å·¥ç±»å‹è®¡ç®—æ–¹å¼ä¸åŒï¼‰
    public abstract double calculateSalary();
    
    // æ™®é€šæ–¹æ³•
    public void displayInfo() {
        System.out.println("å‘˜å·¥å§“å: " + name);
        System.out.println("å‘˜å·¥ID: " + id);
        System.out.println("åŸºæœ¬å·¥èµ„: " + baseSalary);
        System.out.println("å®é™…å·¥èµ„: " + calculateSalary());
    }
}

// å…¨èŒå‘˜å·¥
public class FullTimeEmployee extends Employee {
    private double bonus;
    
    public FullTimeEmployee(String name, int id, double baseSalary, double bonus) {
        super(name, id, baseSalary);
        this.bonus = bonus;
    }
    
    @Override
    public double calculateSalary() {
        return baseSalary + bonus;
    }
}

// å…¼èŒå‘˜å·¥
public class PartTimeEmployee extends Employee {
    private int hours;
    private double hourlyRate;
    
    public PartTimeEmployee(String name, int id, double hourlyRate, int hours) {
        super(name, id, 0);  // å…¼èŒå‘˜å·¥æ²¡æœ‰åŸºæœ¬å·¥èµ„
        this.hourlyRate = hourlyRate;
        this.hours = hours;
    }
    
    @Override
    public double calculateSalary() {
        return hourlyRate * hours;
    }
}

// ä½¿ç”¨å¤šæ€
public class EmployeeManagement {
    public static void main(String[] args) {
        // åˆ›å»ºä¸åŒç±»å‹çš„å‘˜å·¥
        Employee[] employees = {
            new FullTimeEmployee("å¼ ä¸‰", 1, 10000, 2000),
            new PartTimeEmployee("æå››", 2, 100, 80),
            new FullTimeEmployee("ç‹äº”", 3, 8000, 1500)
        };
        
        // ç»Ÿä¸€å¤„ç†ï¼Œå¤šæ€ä½“ç°
        double totalSalary = 0;
        for (Employee emp : employees) {
            emp.displayInfo();  // æ¯ä¸ªå‘˜å·¥æ˜¾ç¤ºä¸åŒä¿¡æ¯
            totalSalary += emp.calculateSalary();  // ä¸åŒå‘˜å·¥å·¥èµ„è®¡ç®—æ–¹å¼ä¸åŒ
            System.out.println("---");
        }
        
        System.out.println("æ€»å·¥èµ„æ”¯å‡º: " + totalSalary);
    }
}
```

## å¤šæ€çš„ä¼˜åŠ¿

### 1. æé«˜ä»£ç å¯æ‰©å±•æ€§

```java
// æ·»åŠ æ–°çš„å‘˜å·¥ç±»å‹ï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç 
public class Contractor extends Employee {
    private double contractAmount;
    
    public Contractor(String name, int id, double contractAmount) {
        super(name, id, 0);
        this.contractAmount = contractAmount;
    }
    
    @Override
    public double calculateSalary() {
        return contractAmount;
    }
}

// å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ä¿®æ”¹ EmployeeManagement ç±»
```

### 2. æé«˜ä»£ç å¯ç»´æŠ¤æ€§

```java
// ä¿®æ”¹æŸä¸ªå­ç±»çš„å®ç°ï¼Œä¸å½±å“å…¶ä»–ä»£ç 
public class FullTimeEmployee extends Employee {
    @Override
    public double calculateSalary() {
        // ä¿®æ”¹è®¡ç®—é€»è¾‘ï¼Œä¸å½±å“è°ƒç”¨æ–¹
        return baseSalary * 1.2 + bonus;  // æ–°é€»è¾‘
    }
}
```

### 3. ç»Ÿä¸€æ¥å£å¤„ç†

```java
// ä¸€ä¸ªæ–¹æ³•å¯ä»¥å¤„ç†æ‰€æœ‰å­ç±»å¯¹è±¡
public void processEmployee(Employee emp) {
    emp.displayInfo();
    double salary = emp.calculateSalary();
    // ç»Ÿä¸€å¤„ç†...
}
```

## å¤šæ€çš„æ³¨æ„äº‹é¡¹

### 1. æ–¹æ³•é‡å†™çš„è§„åˆ™

```java
// âœ… æ­£ç¡®çš„é‡å†™
public class Parent {
    public void method() { }
}

public class Child extends Parent {
    @Override
    public void method() { }  // æ­£ç¡®
}

// âŒ é”™è¯¯ï¼šä¸æ˜¯é‡å†™ï¼ˆå‚æ•°ä¸åŒï¼‰
public class Child extends Parent {
    public void method(int param) { }  // è¿™æ˜¯é‡è½½ï¼Œä¸æ˜¯é‡å†™
}
```

### 2. é™æ€æ–¹æ³•ä¸èƒ½é‡å†™

```java
public class Parent {
    public static void staticMethod() {
        System.out.println("Parent");
    }
}

public class Child extends Parent {
    public static void staticMethod() {  // ä¸æ˜¯é‡å†™ï¼Œæ˜¯éšè—
        System.out.println("Child");
    }
}

// ä½¿ç”¨
Parent p = new Child();
p.staticMethod();  // è¾“å‡º: Parentï¼ˆä¸æ˜¯ Childï¼‰
```

### 3. ç§æœ‰æ–¹æ³•ä¸èƒ½é‡å†™

```java
public class Parent {
    private void privateMethod() { }  // ç§æœ‰æ–¹æ³•
}

public class Child extends Parent {
    // è¿™ä¸æ˜¯é‡å†™ï¼Œæ˜¯æ–°çš„æ–¹æ³•
    private void privateMethod() { }
}
```

## æœ€ä½³å®è·µ

### 1. ä½¿ç”¨çˆ¶ç±»å¼•ç”¨

```java
// âœ… å¥½çš„åšæ³•ï¼šä½¿ç”¨çˆ¶ç±»å¼•ç”¨
List<Animal> animals = new ArrayList<>();
animals.add(new Dog());
animals.add(new Cat());

// âŒ ä¸å¥½çš„åšæ³•ï¼šä½¿ç”¨å…·ä½“ç±»å‹
List<Dog> dogs = new ArrayList<>();
List<Cat> cats = new ArrayList<>();
```

### 2. ä¼˜å…ˆä½¿ç”¨æ¥å£

```java
// âœ… å¥½çš„åšæ³•ï¼šä½¿ç”¨æ¥å£
List<String> list = new ArrayList<>();  // æ¥å£å¼•ç”¨

// âŒ ä¸å¥½çš„åšæ³•ï¼šä½¿ç”¨å…·ä½“ç±»
ArrayList<String> list = new ArrayList<>();  // å…·ä½“ç±»å¼•ç”¨
```

### 3. ä½¿ç”¨æŠ½è±¡ç±»å®šä¹‰é€šç”¨è¡Œä¸º

```java
// âœ… å¥½çš„åšæ³•ï¼šæŠ½è±¡ç±»å®šä¹‰é€šç”¨è¡Œä¸º
public abstract class Animal {
    protected String name;
    
    public abstract void makeSound();  // å­ç±»å¿…é¡»å®ç°
    
    public void eat() {  // é€šç”¨è¡Œä¸º
        System.out.println(name + " æ­£åœ¨åƒ");
    }
}
```

## ä¸‹ä¸€æ­¥

æŒæ¡äº†å¤šæ€åï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ ï¼š

- [å†…éƒ¨ç±»ä¸åŒ¿åç±»](/java/11-å†…éƒ¨ç±»ä¸åŒ¿åç±».md) - å­¦ä¹ ç‰¹æ®Šçš„ç±»å®šä¹‰æ–¹å¼
- [å¸¸ç”¨ç±»ä¸å­—ç¬¦ä¸²å¤„ç†](/java/11-å¸¸ç”¨ç±»ä¸å­—ç¬¦ä¸²å¤„ç†.md) - å­¦ä¹  Java å¸¸ç”¨ç±»åº“

---

<div style="text-align: center; margin-top: 2rem;">
  <p>ğŸ’¡ <strong>æç¤º</strong>ï¼šå¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒç‰¹æ€§ï¼Œç†è§£å¤šæ€æœ‰åŠ©äºç¼–å†™çµæ´»ã€å¯æ‰©å±•çš„ä»£ç </p>
</div>
